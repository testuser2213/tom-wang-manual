<map version="0.8.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1302744582085" ID="Freemind_Link_1755801840" MODIFIED="1322802478409" TEXT="EventProxy&#x89e3;&#x6790;(tom.wang) &#xa;Follow&#xff1a;http://t.qq.com/superlinyzu">
<node CREATED="1322802500279" ID="_" MODIFIED="1322802512582" POSITION="right" TEXT="&#x6784;&#x9020;&#x51fd;&#x6570;&#xa;EventProxy()"/>
<node CREATED="1322802541982" ID="Freemind_Link_1714440875" MODIFIED="1322811997507" POSITION="right" TEXT="&#x5c5e;&#x6027;&#xa;1&#x3001;_callbacks&#xff1a;&#x4ee5;&#x4e8b;&#x4ef6;&#x540d;&#x4e3a;&#x952e;&#x540d;&#xff0c;&#x4ee5;&#x7ed1;&#x5b9a;&#x5230;&#x8be5;&#x4e8b;&#x4ef6;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x5217;&#x8868;&#xff08;&#x6570;&#x7ec4;&#xff09;&#x4e3a;&#x503c;&#x7684;&#x5bf9;&#x8c61;&#x3002;&#xa;2&#x3001;_fired&#xff1a;&#x4fdd;&#x5b58;&#x5df2;&#x7ecf;trigger&#x8fc7;&#x7684;&#x4e8b;&#x4ef6;&#xff0c;&#x4ee5;&#x4e8b;&#x4ef6;&#x540d;&#x4e3a;&#x952e;&#x540d;&#xff0c;&#x4ee5;{data:...}&#x5bf9;&#x8c61;&#x4e3a;&#x503c;&#xff0c;data&#x662f;trigger&#x65f6;&#x4f20;&#x9012;&#x5230;&#x56de;&#x8c03;&#x7684;&#x6570;&#x636e;&#x3002;&#x6ce8;&#x610f;&#xff0c;&#x53ea;&#x6709;assign&#x8fc7;&#x7684;&#x4e8b;&#x4ef6;&#x624d;&#x53ef;&#x4ee5;&#x8bb0;&#x5f55;_fired&#x4fe1;&#x606f;&#x3002;"/>
<node CREATED="1322802559141" ID="Freemind_Link_441828594" MODIFIED="1322817207249" POSITION="right" TEXT="&#x65b9;&#x6cd5;&#xa;1&#x3001;EventProxy addListener(string ev, Function callback)&#xff1a;&#x4e3a;ev&#x4e8b;&#x4ef6;&#x6dfb;&#x52a0;&#x4e00;&#x4e2a;&#x65b0;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;callback&#x3002;&#xa;2&#x3001;bind&#xff1a;&#x7b49;&#x4ef7;&#x4e8e;addListener&#xa;3&#x3001;on&#xff1a;&#x7b49;&#x4ef7;&#x4e8e;addListener&#xa;4&#x3001;EventProxy removeListener(string ev = &apos;&apos;, Function callback = &apos;&apos;)&#xff1a;&#x4ece;ev&#x4e8b;&#x4ef6;&#x7684;&#x56de;&#x8c03;&#x5217;&#x8868;&#x4e2d;&#x79fb;&#x9664;callback&#xff0c;&#x5982;&#x679c;&#x6ca1;&#x6709;&#x6307;&#x5b9a;ev&#xff0c;&#x5219;&#x6e05;&#x7a7a;&#x6240;&#x6709;&#x4e8b;&#x4ef6;&#x7684;&#x7ed1;&#x5b9a;&#xff0c;&#x5982;&#x679c;&#x6307;&#x5b9a;&#x4e86;ev&#x800c;&#x6ca1;&#x6709;&#x6307;&#x5b9a;callback&#xff0c;&#x5219;&#x79fb;&#x9664;ev&#x5bf9;&#x5e94;&#x7684;&#x6240;&#x6709;&#x7ed1;&#x5b9a;&#x3002;&#xa;5&#x3001;unbind&#xff1a;&#x7b49;&#x4ef7;&#x4e8e;removeListener&#xa;6&#x3001;EventProxy removeAllListeners(string ev)&#xff1a;&#x5f02;&#x5e38;ev&#x4e8b;&#x4ef6;&#x7684;&#x6240;&#x6709;&#x7ed1;&#x5b9a;&#xff0c;&#x7b49;&#x4ef7;&#x4e8e;removeListener(ev)&#xa;7&#x3001;EventProxy trigger(string ev, mixed data1, mixed data2...)&#xff1a;&#x89e6;&#x53d1;&#x7ed1;&#x5b9a;&#x5230;ev&#x4e0a;&#x7684;&#x6240;&#x6709;&#x56de;&#x8c03;&#xff0c;&#x8fd9;&#x4e9b;&#x56de;&#x8c03;&#x63a5;&#x53d7;&#x76f8;&#x540c;&#x7684;&#x53c2;&#x6570;&#xff08;&#x5b9e;&#x53c2;&#x7531;data1, data2&#x6307;&#x5b9a;&#xff09;&#xff0c;&#x56de;&#x8c03;&#x4e2d;&#x7684;this&#x6307;&#x5411;EventProxy&#x5bf9;&#x8c61;&#x3002;&#xa;&#x6ce8;&#x610f;&#xff0c;all&#x4e8b;&#x4ef6;&#x662f;&#x4e2a;&#x7279;&#x6b8a;&#x7684;&#x4e8b;&#x4ef6;&#x7c7b;&#x578b;&#xff0c;&#x5b83;&#x4f1a;&#x5728;&#x89e6;&#x53d1;&#x6bcf;&#x4e2a;&#x5176;&#x4ed6;&#x4e8b;&#x4ef6;&#x4e4b;&#x540e;&#x89e6;&#x53d1;&#x3002;&#x7ed1;&#x5b9a;&#x5728;all&#x4e0a;&#x7684;&#x56de;&#x8c03;&#xff0c;this&#x6307;&#x5411;&#x5f53;&#x524d;EventProxy&#x5bf9;&#x8c61;&#xff0c;&#x63a5;&#x6536;&#x7684;&#x53c2;&#x6570;&#x548c;&#x8c03;&#x7528;trigger&#x7684;&#x53c2;&#x6570;&#x4e00;&#x6837;&#x3002;&#xa;8&#x3001;emit&#xff1a;&#x7b49;&#x4ef7;&#x4e8e;trigger&#xa;9&#x3001;fire&#xff1a;&#x7b49;&#x4ef7;&#x4e8e;trigger&#xa;10&#x3001;EventProxy once(string ev, Function callback)&#xff1a;&#x4e3a;ev&#x7ed1;&#x5b9a;&#x4e00;&#x4e2a;&#x4e00;&#x6b21;&#x6027;&#x4e8b;&#x4ef6;&#xff0c;trigger&#x4e00;&#x6b21;&#x5c31;unbind&#x6389;&#x3002;&#xa;11&#x3001;EventProxy immediate(string ev, Function callback, mixed data1&#xff0c; mixed data2...)&#xff1a;&#x7acb;&#x5373;&#x7ed1;&#x5b9a;&#x89e6;&#x53d1;&#x4e00;&#x4e2a;&#x4e8b;&#x4ef6;&#x3002;&#xa;12&#x3001;EventProxy all(string eventname1, string eventname2..., Function cb)&#xff1a;&#x6ce8;&#x518c;&#x4e8b;&#x4ef6;&#xff0c;&#x5f53;&#x6240;&#x6709;&#x4e8b;&#x4ef6;&#x90fd;&#x6267;&#x884c;&#x8fc7;&#x540e;&#xff0c;cb&#x4f1a;&#x8c03;&#x7528;&#xff08;&#x53ea;&#x6267;&#x884c;&#x4e00;&#x6b21;&#xff0c;&#x53c2;&#x7167;once&#xff09;&#xff0c;&#x8be5;&#x65b9;&#x6cd5;&#x5728;&#x6bcf;&#x4e2a;EventProxy&#x5bf9;&#x8c61;&#x4e0a;&#x53ea;&#x6267;&#x884c;&#x4e00;&#x6b21;&#x5c31;&#x597d;&#x3002;&#xa;13&#x3001;assign&#xff1a;&#x7b49;&#x4ef7;&#x4e8e;all&#xa;14&#x3001;EventProxy tail(string eventname1, string eventname2..., Function cb)&#xff1a;&#x6ce8;&#x518c;&#x4e8b;&#x4ef6;&#xff0c;&#x5f53;&#x6240;&#x6709;&#x4e8b;&#x4ef6;&#x90fd;&#x6267;&#x884c;&#x8fc7;&#x540e;&#xff0c;cb&#x4f1a;&#x8c03;&#x7528;&#x4e00;&#x6b21;&#xff0c;&#x4e4b;&#x540e;&#x53ea;&#x8981;&#x4efb;&#x4f55;&#x4e00;&#x4e2a;&#x4e8b;&#x4ef6;&#x89e6;&#x53d1;&#x4e00;&#x6b21;&#xff0c;cb&#x90fd;&#x4f1a;&#x8c03;&#x7528;&#x4e00;&#x6b21;&#xff08;&#x4f7f;&#x7528;&#x6700;&#x65b0;&#x7684;&#x6570;&#x636e;&#xff09;&#xff0c;&#xff0c;&#x8be5;&#x65b9;&#x6cd5;&#x5728;&#x6bcf;&#x4e2a;EventProxy&#x5bf9;&#x8c61;&#x4e0a;&#x53ea;&#x6267;&#x884c;&#x4e00;&#x6b21;&#x5c31;&#x597d;&#x3002;&#xa;15&#x3001;assignAll&#xff1a;&#x7b49;&#x4ef7;&#x4e8e;tail&#xa;16&#x3001;assignAlways&#xff1a;&#x7b49;&#x4ef7;&#x4e8e;tail&#xa;17&#x3001;EventProxy after(string eventName, int times, Function cb)&#xff1a;&#x5f53;eventName&#x4e8b;&#x4ef6;&#x89e6;&#x53d1;times&#x6b21;&#x540e;&#xff0c;cb&#x8c03;&#x7528;&#x4e00;&#x6b21;&#xff0c;&#x4e4b;&#x540e;&#x4e0d;&#x518d;&#x8c03;&#x7528;&#x3002;cb&#x4e2d;this&#x6307;&#x5411;&#x7279;&#x5b9a;EventProxy&#x5bf9;&#x8c61;&#xff0c;&#x53c2;&#x6570;&#x53c2;&#x89c1;trigger&#x3002;&#xa;18&#x3001;void any(evtname1, evtname2..., cb)&#xff1a;&#x5f53;evtname1&#x3001;evtname2&#x4e2d;&#x4efb;&#x4f55;&#x4e00;&#x4e2a;&#x4e8b;&#x4ef6;&#x6267;&#x884c;&#x4e00;&#x6b21;&#xff0c;cb&#x8c03;&#x7528;&#x4e00;&#x6b21;&#xff0c;&#x4e4b;&#x540e;&#x4e0d;&#x518d;&#x8c03;&#x7528;&#x3002;cb&#x63a5;&#x53d7;&#x4e00;&#x4e2a;&#x5bf9;&#x8c61;&#x53c2;&#x6570;&#xff0c;&#x8be5;&#x53c2;&#x6570;&#x7684;data&#x5c5e;&#x6027;&#x89e6;&#x53d1;&#x4efb;&#x4e00;&#x4e8b;&#x4ef6;&#x65f6;&#x7684;&#x53c2;&#x6570;&#xff0c;eventName&#x5c5e;&#x6027;&#x786e;&#x5b9a;&#x89e6;&#x53d1;&#x7684;&#x662f;&#x54ea;&#x4e2a;&#x4e8b;&#x4ef6;&#x3002;&#xa;19&#x3001;void not(evtname, cb)&#xff1a;&#x5f53;&#x89e6;&#x53d1;&#x7684;&#x4e8b;&#x4ef6;&#x4e0d;&#x662f;evtname&#xff0c;&#x8c03;&#x7528;cb&#xff0c;&#x53ef;&#x4ee5;&#x8c03;&#x7528;&#x591a;&#x6b21;&#x3002;cb&#x4e2d;this&#x6307;&#x5411;&#x7279;&#x5b9a;EventProxy&#x5bf9;&#x8c61;&#xff0c;&#x53c2;&#x6570;&#x53c2;&#x89c1;trigger&#x3002;"/>
<node CREATED="1322810812885" ID="Freemind_Link_573731882" MODIFIED="1322814060811" POSITION="right" TEXT="&#x53d8;&#x91cf;&#xa;1&#x3001;_assign(eventname1, eventname2..., cb, once)&#xff1a;&#xa;&#xff08;1&#xff09;&#x3001;&#x8be5;&#x65b9;&#x6cd5;&#x5012;&#x6570;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x4e00;&#x4e2a;&#x5e03;&#x5c14;&#x503c;&#xff0c;&#x6307;&#x5b9a;&#x662f;&#x4e0d;&#x662f;&#x4e00;&#x6b21;&#x6027;&#x4e8b;&#x4ef6;&#x3002;&#xa;&#xff08;2&#xff09;&#x3001;&#x8be5;&#x65b9;&#x6cd5;&#x5012;&#x6570;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x662f;&#x4e00;&#x4e2a;&#x51fd;&#x6570;&#xff0c;&#x6307;&#x5b9a;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x3002;&#xa;&#xff08;3&#xff09;&#x3001;&#x5176;&#x4f59;&#x7684;&#x53c2;&#x6570;&#x90fd;&#x662f;&#x5b57;&#x7b26;&#x4e32;&#x503c;&#xff0c;&#x6307;&#x5b9a;&#x4e8b;&#x4ef6;&#x540d;&#x3002;&#xa;&#xff08;4&#xff09;&#x3001;&#xff08;2&#xff09;&#x4e2d;&#x7684;&#x56de;&#x8c03;&#x51fd;&#x6570;&#x53ea;&#x5728;&#x6240;&#x6709;&#x4e8b;&#x4ef6;&#x90fd;&#x89e6;&#x53d1;&#x540e;&#x624d;&#x8c03;&#x7528;&#xff0c;&#x8be5;&#x65b9;&#x6cd5;&#x4e2d;&#x7684;this&#x6307;&#x5411;&#x7279;&#x5b9a;EventProxy&#xff0c;&#x7b2c;&#x4e00;&#x4e2a;&#x53c2;&#x6570;&#x662f;eventname1&#x89e6;&#x53d1;&#x65f6;&#x4f20;&#x9012;&#x7684;&#x6570;&#x636e;&#xff0c;&#x7b2c;&#x4e8c;&#x4e2a;&#x53c2;&#x6570;&#x662f;eventname2&#x89e6;&#x53d1;&#x65f6;&#x4f20;&#x9012;&#x7684;&#x53c2;&#x6570;&#xff0c;&#x4f9d;&#x6b64;&#x7c7b;&#x63a8;&#x3002;"/>
</node>
</map>
