# 配置任务 #
By Tom.Wang<tom.wang.sz@qq.com\>

## Grunt配置 ##
1、通过`grunt.initConfig`来配置  
2、任务配置以任务名为key  
3、配置object中可以放置任务的key，只要不和任务key冲突即可  

## 任务配置和目标（Task configuration and target） ##
1、当运行一个任务时（如`“grunt concat”`），Grunt会在配置中查找任务名对应的配置，Multi类任务可以有多个配置，如下concat有2个子任务，uglify只有1个（**注：concat称为一个Task，concat:foo称为一个Target**）：
<pre>
grunt.initConfig({
  concat: {
    foo: {
      // concat task "foo" target options and files go here.
    },
    bar: {
      // concat task "bar" target options and files go here.
    },
  },
  uglify: {
    bar: {
      // uglify task "bar" target options and files go here.
    },
  },
});
</pre>
如果运行`grunt concat:foo`则只运行concat的foo子任务，`grunt concat`则按顺序运行concat的所有子任务  
**注：如果调用`grunt.renameTask`重命名了某个任务，Grunt会在配置中查找新任务名对应的配置**  

## 选项（Options） ##
1、使用options来配置Task或Target，用于覆盖默认值，每个插件的配置信息见对应的官方文档。  
2、Target的options值较Task的优先级高  

## 文件（Files） ##
**1、简洁格式（Compact Format)**  
（1）、该格式允许为每一个Target定义一个`src-dest`（多个src到1个dest）对  
（2）、对只读的Task最常用，例如grunt-contrib-jshint  
（3）、该格式也支持为每个src-dest对进行额外配置  
<pre>
例子：
grunt.initConfig({
  jshint: {
    foo: {
      src: ['src/aa.js', 'src/aaa.js']
    },
  },
  concat: {
    bar: {
      src: ['src/bb.js', 'src/bbb.js'],
      dest: 'dest/b.js',
    },
  },
});
</pre>
**2、files对象格式（Files Object Format）**  
（1）、可以为每个target定义多个src-dest对，以目标文件为key，源文件为value  
（2）、不能进行额外的配置  
<pre>
例子：
grunt.initConfig({
  concat: {
    foo: {
      files: {
        'dest/a.js': ['src/aa.js', 'src/aaa.js'],
        'dest/a1.js': ['src/aa1.js', 'src/aaa1.js'],
      },
    },
    bar: {
      files: {
        'dest/b.js': ['src/bb.js', 'src/bbb.js'],
        'dest/b1.js': ['src/bb1.js', 'src/bbb1.js'],
      },
    },
  },
});
</pre>
**3、files数组格式（Files Array Format）**  
（1）、可以为每个target定义多个src-dest对，以目标文件为key，源文件为value  
（2）、可以进行额外的配置
<pre>
例子：
grunt.initConfig({
  concat: {
    foo: {
      files: [
        {src: ['src/aa.js', 'src/aaa.js'], dest: 'dest/a.js'},
        {src: ['src/aa1.js', 'src/aaa1.js'], dest: 'dest/a1.js'},
      ],
    },
    bar: {
      files: [
        {src: ['src/bb.js', 'src/bbb.js'], dest: 'dest/b/', nonull: true},
        {src: ['src/bb1.js', 'src/bbb1.js'], dest: 'dest/b1/', filter: 'isFile'},
      ],
    },
  },
});
</pre>
## ChangeLog ##
2013年06月18日 新建文档